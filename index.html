<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>title</title>
		<link rel="stylesheet" href="/leaflet/leaflet.css">
	</head>
	<body>
		<div id="mymap" style="height: 900px;"></div>
		<script src="/leaflet/leaflet.js"></script>
		<script src="/summary_police_precincts.json"></script>
		<script>
		var themap = L.map('mymap').setView([40.7074,-73.9634],11);
		L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
			attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
			id: 'mapbox.light',
			maxZoom: 18,
			accessToken: 'pk.eyJ1IjoieHhob3d3aWV4eCIsImEiOiJjaW15N3NmYTkwNDA5djlrazNteTEzbHpoIn0.-UQfWZ0avpj9Iknbhw9SuA',
		}).addTo(themap);
		//var marker_school = L.marker([37.872015, -122.258754]).addTo(themap);
		//var marker_home = L.marker([40.718137, -73.996252]).addTo(themap);
		var point = {
			"type": "Feature",
			"properties": {
				"name": "Coors Field",
				"amenity": "Baseball Stadium",
				"PopupContent": "This is where the ROckies play!"
			},
			"geometry": {
				"type": "Point",
				"coordinates": [-104.99404, 39.75621]
			}
		};
		//L.geoJson(point).addTo(themap);
		L.geoJson(policeData, {
			style: function(feature){
				return {
					fillColor: getColor(feature.properties.Total_Pop),
					color: '#fff',
					fillOpacity: 1,
					weight: 1,
				};
			}
		}).addTo(themap);

		function getColor(d) {
		return d > 90000 ? '#800026' :
			   d > 80000  ? '#BD0026' :
			   d > 70000  ? '#E31A1C' :
			   d > 60000  ? '#FC4E2A' :
			   d > 50000   ? '#FD8D3C' :
			   d > 40000   ? '#FEB24C' :
			   d > 30000   ? '#FED976' :
			   			  '#FFEDA0';
			}
		</script>
	</body>
</html>
